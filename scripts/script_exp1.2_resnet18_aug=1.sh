#!/bin/bash -l

source activate activation_sense
python ../experiments/1.2_imagenet_si_variance.py --batch_size_activations_computing 200 --samples_per_class_train 732 --samples_per_class_valid 50 --data_dirname ../data/imagenet --activations_dirname ../results/ --model_dirname ../torch-models/ --mkl_num_threads 5 --device cpu --recompute_activations 1 --remove_activations_hdf5 0 --desired_image_height 224 --desired_image_width 224 --network_name resnet18 --network_modules '["maxpool", "layer1", "layer2", "layer3", "avgpool", "fc"]' --classification_layer_name fc --libstdcpp_path /mnt/bulky/pkharyuk/apd/envs/activation_sense/lib/libstdc++.so.6 --buffer_size_tv_computing 200 --subset_random_state_train 536 --subset_random_state_valid 555 --torch_seed 917 --numpy_seed 615 --class_sampler_seed 532 --dataset_part train+valid --Njobs_tv_computing 4 --augset1_p 0.5 --augset2_p 0.5 --activations_fnm_prefix sitv_resnet18_imagenet_ILSVRC_activations --values_fnm_prefix sitv_resnet18_imagenet_ILSVRC_values --Nsamples 65536 --compute_s2 1 --use_permutation_variable 1 --use_switch_variables 0 --use_partition_variable 1 --augmentation_set_number 1
